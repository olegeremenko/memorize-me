<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Memorize Me - Admin Panel</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="admin.css">
</head>
<body>
    <div class="admin-container">
        <div class="admin-card">
            <h1 class="admin-title">
                <img src="android-chrome-192x192.png" alt="Memorize Me Logo" class="admin-logo">
                Admin Panel
                <a href="/" class="close-button">Ã—</a>
            </h1>
            
            <!-- Tab Navigation -->
            <div class="tab-navigation">
                <button class="tab-button active" data-tab="stats">Statistics</button>
                <button class="tab-button" data-tab="settings">Settings</button>
                <button class="tab-button" data-tab="admin">Actions</button>
            </div>
            
            <!-- Stats Section -->
            <div class="tab-content" id="stats-tab" style="display: block;">
                <div id="stats-loader" class="tab-loader">Loading statistics...</div>
                <div class="stats-container" id="stats-content" style="display: none;">
                    <div class="stats-grid">
                        <div class="stats-item">
                            <div class="stats-label">Total Photos in Database:</div>
                            <div class="stats-value" id="stats-total-photos">-</div>
                        </div>
                        <div class="stats-item">
                            <div class="stats-label">Last Scan Time:</div>
                            <div class="stats-value" id="stats-last-scan">-</div>
                        </div>
                        <div class="stats-item">
                            <div class="stats-label">Photos in Slideshow:</div>
                            <div class="stats-value" id="stats-local-photos">-</div>
                        </div>
                        <div class="stats-item">
                            <div class="stats-label">Soft-Deleted Photos:</div>
                            <div class="stats-value" id="stats-deleted-photos">-</div>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- System Settings Section -->
            <div class="tab-content" id="settings-tab" style="display: none;">
                <div class="settings-container">
                    <div class="settings-grid">
                        <div class="settings-item">
                            <div class="settings-label">Slideshow Interval (seconds):</div>
                            <div class="settings-value">
                                <input type="number" id="slideshow-interval" min="5" step="5">
                            </div>
                        </div>
                        <div class="settings-item">
                            <div class="settings-label">Photos Per Day:</div>
                            <div class="settings-value">
                                <input type="number" id="photos-per-day" min="1" max="100">
                            </div>
                        </div>
                        <div class="settings-item">
                            <div class="settings-label">Same Day Photos:</div>
                            <div class="settings-value">
                                <input type="number" id="same-day-photos" min="0" max="10">
                            </div>
                        </div>
                    </div>
                    <div class="settings-actions">
                        <button id="show-nas-config-button" class="admin-button secondary">Show NAS Config</button>
                        <button id="save-settings-button" class="admin-button">Save Settings</button>
                    </div>
                </div>
            </div>
            
            <!-- Admin Actions Section -->
            <div class="tab-content" id="admin-tab" style="display: none;">
                <div class="admin-button-group">
                    <button id="scan-button" class="admin-button">Scan NAS</button>
                    <button id="fetch-button" class="admin-button">Fetch Photos</button>
                    <button id="show-database-button" class="admin-button">Show All DB Photos</button>
                </div>
            </div>
            
            <!-- Status message shown in all tabs -->
            <div id="status-message" class="status-message"></div>
            
            <!-- Background process info panel -->
            <div id="background-processes" class="background-processes-panel" style="display: none;"></div>
        </div>
    </div>
    
    <!-- Modal structure for database photos -->
    <div id="photo-database-modal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>Photo Database</h2>
                <span class="close">&times;</span>
            </div>
            <div class="modal-body">
                <div class="modal-stats">
                    <div class="filter-section">
                        <label class="filter-toggle">
                            <input type="checkbox" id="downloaded-filter" />
                            <span class="filter-label">Show slideshow photos</span>
                        </label>
                        <label class="filter-toggle">
                            <input type="checkbox" id="deleted-filter" />
                            <span class="filter-label">Show deleted photos</span>
                        </label>
                    </div>
                    <div class="pagination-section">
                        <span id="photo-count"></span>
                        <div id="pagination-controls"></div>
                    </div>
                </div>
                <div class="table-container">
                    <table id="photos-table">
                        <thead>
                            <tr>
                                <th>NAS ID</th>
                                <th>File Info</th>
                                <th>Size</th>
                                <th>Last Modified</th>
                                <th>Was in Slideshow</th>
                                <th>Download</th>
                            </tr>
                        </thead>
                        <tbody id="photos-table-body">
                            <!-- Table rows will be inserted here by JavaScript -->
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Modal structure for NAS config -->
    <div id="nas-config-modal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>NAS Configuration</h2>
                <span class="close">&times;</span>
            </div>
            <div class="modal-body">
                <div id="nas-config-content">
                    <p>Loading NAS configuration...</p>
                </div>
            </div>
        </div>
    </div>
    
    <script src="admin.js"></script>
</body>
</html>
